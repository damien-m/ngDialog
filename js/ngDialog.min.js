/*! ng-dialog - v0.2.11 (https://github.com/likeastore/ngDialog) */
!function(a,b){"use strict";var c=b.module("ngDialog",[]),d=b.element,e=b.isDefined,f=(document.body||document.documentElement).style,g=e(f.animation)||e(f.WebkitAnimation)||e(f.MozAnimation)||e(f.MsAnimation)||e(f.OAnimation),h="animationend webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend",i=!1,j={};c.provider("ngDialog",function(){var c=this.defaults={className:"ngdialog-theme-default",plain:!1,showClose:!0,closeByDocument:!0,closeByEscape:!0,appendTo:!1,customStyles:!1};this.setForceBodyReload=function(a){i=a||!1};var e,f=0,k=0,l={};this.$get=["$document","$templateCache","$compile","$q","$http","$rootScope","$timeout","$window","$controller",function(m,n,o,p,q,r,s,t,u){var v=m.find("body");i&&r.$on("$locationChangeSuccess",function(){v=m.find("body")});var w={onDocumentKeydown:function(a){27===a.keyCode&&x.close("$escape")},setBodyPadding:function(a){var b=parseInt(v.css("padding-right")||0,10);v.css("padding-right",b+a+"px"),v.data("ng-dialog-original-padding",b)},resetBodyPadding:function(){var a=v.data("ng-dialog-original-padding");a?v.css("padding-right",a+"px"):v.css("padding-right","")},closeDialog:function(b,c){var d=b.attr("id");"undefined"!=typeof a.Hammer?a.Hammer(b[0]).off("tap",e):b.unbind("click"),1===k&&v.unbind("keydown"),b.hasClass("ngdialog-closing")||(k-=1),g&&!j.customStyles?b.unbind(h).bind(h,function(){b.scope().$destroy(),b.remove(),0===k&&(v.removeClass("ngdialog-open"),w.resetBodyPadding()),r.$broadcast("ngDialog.closed",b)}).addClass("ngdialog-closing"):(b.scope().$destroy(),b.remove(),0===k&&(v.removeClass("ngdialog-open"),w.resetBodyPadding()),r.$broadcast("ngDialog.closed",b)),l[d]&&(l[d].resolve({id:d,value:c,$dialog:b,remainingDialogs:k}),delete l[d])}},x={open:function(g){function h(a){return a?b.isString(a)&&j.plain?a:n.get(a)||q.get(a,{cache:!0}):"Empty template"}var i=this;j=b.copy(c),g=g||{},b.extend(j,g),f+=1,i.latestID="ngdialog"+f;var m;l[i.latestID]=m=p.defer();var y,z,A=b.isObject(j.scope)?j.scope.$new():r.$new();return p.when(h(j.template)).then(function(c){if(c=b.isString(c)?c:c.data&&b.isString(c.data)?c.data:"",n.put(j.template,c),j.showClose&&(c+='<div class="ngdialog-close"></div>'),i.$result=y=d('<div id="ngdialog'+f+'" class="ngdialog"></div>'),y.html('<div class="ngdialog-overlay"></div><div class="ngdialog-content">'+c+"</div>"),j.controller&&(b.isString(j.controller)||b.isArray(j.controller)||b.isFunction(j.controller))){var g=u(j.controller,{$scope:A,$element:y});y.data("$ngDialogControllerController",g)}if(j.className&&y.addClass(j.className),j.data&&b.isString(j.data)){var h=j.data.replace(/^\s*/,"")[0];A.ngDialogData="{"===h||"["===h?b.fromJson(j.data):j.data}else j.data&&b.isObject(j.data)&&(A.ngDialogData=b.fromJson(b.toJson(j.data)));return z=j.appendTo&&b.isString(j.appendTo)?b.element(document.querySelector(j.appendTo)):v,A.closeThisDialog=function(a){w.closeDialog(y,a)},s(function(){o(y)(A);var a=t.innerWidth-v.prop("clientWidth");v.addClass("ngdialog-open");var b=a-(t.innerWidth-v.prop("clientWidth"));b>0&&w.setBodyPadding(b),z.append(y),r.$broadcast("ngDialog.opened",y)}),j.closeByEscape&&v.bind("keydown",w.onDocumentKeydown),e=function(a){var b=j.closeByDocument?d(a.target).hasClass("ngdialog-overlay"):!1,c=d(a.target).hasClass("ngdialog-close");(b||c)&&x.close(y.attr("id"),c?"$closeButton":"$document")},"undefined"!=typeof a.Hammer?a.Hammer(y[0]).on("tap",e):y.bind("click",e),k+=1,x}),{id:"ngdialog"+f,closePromise:m.promise,close:function(a){w.closeDialog(y,a)}}},openConfirm:function(a){var c=p.defer(),d={closeByEscape:!1,closeByDocument:!1};b.extend(d,a),d.scope=b.isObject(d.scope)?d.scope.$new():r.$new(),d.scope.confirm=function(a){c.resolve(a),e.close(a)};var e=x.open(d);return e.closePromise.then(function(a){return a?c.reject(a.value):c.reject()}),c.promise},close:function(a,b){var c=d(document.getElementById(a));return c.length?w.closeDialog(c,b):x.closeAll(b),x},closeAll:function(a){var c=document.querySelectorAll(".ngdialog");b.forEach(c,function(b){w.closeDialog(d(b),a)})}};return x}]}),c.directive("ngDialog",["ngDialog",function(a){return{restrict:"A",scope:{ngDialogScope:"="},link:function(c,d,e){d.on("click",function(d){d.preventDefault();var f=b.isDefined(c.ngDialogScope)?c.ngDialogScope:"noScope";b.isDefined(e.ngDialogClosePrevious)&&a.close(e.ngDialogClosePrevious),a.open({template:e.ngDialog,className:e.ngDialogClass,controller:e.ngDialogController,scope:f,data:e.ngDialogData,showClose:"false"===e.ngDialogShowClose?!1:!0,closeByDocument:"false"===e.ngDialogCloseByDocument?!1:!0,closeByEscape:"false"===e.ngDialogCloseByEscape?!1:!0})})}}}])}(window,window.angular);